<!--Importamos los controladores de la libreria V6, puesto que nos hace falta, ya que nos llega una lista de objetos genericos y debemos convertirlos en TTema.
Tambien el modelo, como he dicho llega una LIST de objets (List<Object>)
-->
@model List<object>
@using GestorLibrosEntityAjax.Models


@{
    ViewBag.Title = "Añadir Libro";
    Layout = "~/Views/Plantilla/Plantilla.cshtml";
}

<h3 style="margin-bottom: 25px; text-align: center;">Añadir Libro</h3>



<div class="container">
    <div class="col-md-10">
        <div class="form-area">
            <!-- Creamos un formulario de HTML, creando los campos tantos como tenga el tipo libro(Titulo,autor,tema,paginas.... etc)-->
            <form class="form" method="post">
                <div class="form-group">
                    <label for="titulo">Titulo</label>
                    <!-- Hay que tener en cuenta que el id tiene que tener el mismo nombre que el nombre de la propiedad del objeto, que en este caso es libro. Asi con los necesarios.-->
                    <input name="Titulo" type="text" maxlength="30" required="" class="form-control" placeholder="Título" id="titulo" />
                </div>
                <div class="form-group">
                    <label for="autor">Autor</label>
                    <input name="Autor" type="text" maxlength="30" minlength="5" required="" class="form-control" placeholder="Autor" id="autor" />
                </div>
                <div class="form-group">
                    <label for="tema">Tema</label>
                    <select name="Tema" class="form-control" id="IDTema">
                        <!-- Recorremos la List generica que nos llega del modelo, tenemos que decirle que es un TTema si no dara error.-->
                        @foreach (ttema tema in Model)
                        {

                            //Ojo aqui, una cosa es el nombre a mostrar y otra diferente es el valor a asignar. A la propiedad Value se debe indicar el valor indice, en este caso es tema.Tema y entre
                            //las >aqui< se debe poner el valor a mostrar. En este caso son ambos lo mismo. Pero por ejemplo una persona puede tener un ID y un Nombre, pues segun el caso podriamos poner
                            //en el value el ID y entre >< el nombre, asi cuando hagamos el submit(Boton Guardar,enviar o como querais llamarlo) mandara el ID.
                            <option value="@tema.IDTema">@tema.tema</option>
                        }
                    </select>
                </div>

                <div class="form-group">
                    <label for="paginas">Paginas</label>
                    <input name="Paginas" type="text" required="" class="form-control" placeholder="Páginas" id="paginas" />
                </div>
                <div class="form-group">
                    <label for="precio">Precio</label>
                    <input name="Precio" type="text" required="" class="form-control" placeholder="Precio" id="precio" />
                </div>
                <fieldset class="form-group">
                    <legend>Formato:</legend>
                    <input type="checkbox" name="Formatouno" value="Cartoné" />Cartoné <br>
                    <input type="checkbox" name="Formatodos" value="Rústica" />Rústica<br>
                    <input type="checkbox" name="Formatotres" value="Tapa Dura" />Tapa Dura<br>
                </fieldset>
                <fieldset class="form-group">
                    <legend>Estado: </legend>
                    <input type="radio" name="Estado" value="novedad" checked />Novedad<br />
                    <input type="radio" name="Estado" value="reedicion" />Reedición<br />
                </fieldset>
                <br>
                <div class="submit">
                    <!--Boton enviar, al pulsar HTTP se encarga de mandar los datos al servidor, en este caso es un metodo POST(Declarado en la etiqueta form al principio).
                        Se recomienda usar el metodo POST al enviar datos al servidor ya que van mas ocultos. Si usaramos GET, se veria toda la informacion en la barra de
                        direcciones. GET SIEMPRE PARA PEDIR DATOS AL SERVIDOR. POST SIEMPRE PARA ENVIAR DATOS AL SERVIDOR.
                        -->
                    <input type="submit" value="Registrar" class="btn btn-primary pull-right" id="button-blue" />
                    <div class="ease"></div>
                </div>
                <br>
                <div class="submit">
                    <input type="reset" value="Borrar Campos" class="btn btn-danger pull-right" id="button-reset">
                    <div class="ease"></div>
                </div>
            </form>
        </div>
    </div>
</div>